(this["webpackJsonpcovid-statistic"]=this["webpackJsonpcovid-statistic"]||[]).push([[0],{138:function(t,e,a){t.exports=a(147)},143:function(t,e,a){},144:function(t,e,a){},147:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(4),l=a.n(s),o=(a(143),a(2)),i=a(67),c=a(73),u=a(72),d=(a(144),a(1)),h=a(71),v=a(70),p=function t(e,a,r,n,s,l,i){Object(o.a)(this,t),this.croCases=e,this.croDeaths=r,this.croCured=n,this.date=a,this.worldCases=s,this.worldDeaths=l,this.worldCured=i},m=function t(e,a){Object(o.a)(this,t),this.value=e,this.state=a},y=function t(e,a,r,n){Object(o.a)(this,t),this.young=e,this.youngMedium=a,this.oldMedium=r,this.old=n},f=function t(e,a){Object(o.a)(this,t),this.male=e,this.female=a},w=function(t,e){var a=null;"croCases"===t.value?a="Hrvatska zara\u017eeni: ":"croDeaths"===t.value?a="Hrvatska umrli: ":"croCured"===t.value?a="Hrvatska izlije\u010deni: ":"worldCases"===t.value?a="Svijet zara\u017eeni: ":"worldDeaths"===t.value?a="Svijet umrli: ":"worldCured"===t.value&&(a="Svijet izlije\u010deni: ");var r=20,n=20,s=30,l=100,o=1100-l-n,i=500-r-s,c=d.r().range([0,o]),u=d.o().range([i,0]),h=d.k().x((function(t){return c(new Date(t.date))})).y((function(e){return"croCases"===t.value?u(e.croCases):"croDeaths"===t.value?u(e.croDeaths):"croCured"===t.value?u(e.croCured):"worldCases"===t.value?u(e.worldCases):"worldDeaths"===t.value?u(e.worldDeaths):"worldCured"===t.value?u(e.worldCured):void 0}));c.domain(d.f(e,(function(t){return new Date(t.date)}))),u.domain([0,d.l(e,(function(e){return"croCases"===t.value?e.croCases:"croDeaths"===t.value?e.croDeaths:"croCured"===t.value?e.croCured:"worldCases"===t.value?e.worldCases:"worldDeaths"===t.value?e.worldDeaths:"worldCured"===t.value?e.worldCured:void 0}))]);var v=d.s("body").transition();v.select(".line").duration(750).attr("d",h(e)),v.select(".xaxis").duration(750).call(d.b(c)),v.select(".yaxis").duration(750).call(d.c(u));var p=d.s("body").select(".lineChart").attr("width",o+l+n).attr("height",i+r+s).append("g").attr("transform","translate("+l+","+r+")");d.s("body").selectAll(".dots").remove();var m=d.s("body").append("div").attr("class","tooltip").style("opacity",0);m.selectAll("div").remove(),p.selectAll("dot").data(e).enter().append("circle").attr("r",4).attr("class","dots").attr("cx",(function(t){return c(new Date(t.date))})).attr("cy",(function(e){return"croCases"===t.value?u(e.croCases):"croDeaths"===t.value?u(e.croDeaths):"croCured"===t.value?u(e.croCured):"worldCases"===t.value?u(e.worldCases):"worldDeaths"===t.value?u(e.worldDeaths):"worldCured"===t.value?u(e.worldCured):void 0})).on("mouseover",(function(e){m.transition().duration(200).style("opacity",.9);var r=null;"croCases"===t.value?r=e.croCases:"croDeaths"===t.value?r=e.croDeaths:"croCured"===t.value?r=e.croCured:"worldCases"===t.value?r=e.worldCases:"worldDeaths"===t.value?r=e.worldDeaths:"worldCured"===t.value&&(r=e.worldCured),m.html("Datum: "+e.date+"<br>"+a+r).style("left",d.e.pageX-300+"px").style("top",d.e.pageY-75+"px")})).on("mouseout",(function(t){m.transition().duration(500).style("opacity",0)}))},C=[{value:"croCases",label:"Hrvatska zara\u017eeni"},{value:"croDeaths",label:"Hrvatska umrli"},{value:"croCured",label:"Hrvatska izlije\u010deni"},{value:"worldCases",label:"Svijet zara\u017eeni"},{value:"worldDeaths",label:"Svijet umrli"},{value:"worldCured",label:"Svijet izlije\u010deni"}],g=a(68),D=a.n(g),b=function(t,e,a){var r=null;!0===t&&(d.s(".pieChart").remove(),d.s(".legend").remove(),d.s("#pie").append("svg").attr("class","pieChart"),d.s("#legend").append("svg").attr("class","legend").attr("height",200));var n=null;!1===e?(n=["0-18","18-35","35-65","65<"],r=a.old+a.oldMedium+a.young+a.youngMedium):(n=["Mu\u0161karci","\u017dene"],r=a.male+a.female);var s=Math.min(450,450)/2-40,l=d.s("body").select(!1===e?".pieChart":".pieChartGender").attr("width",450).attr("height",450).append("g").attr("transform","translate(225,225)"),o=null;o=!1===e?d.p().domain([a]).range(["green","red","orange","brown"]):d.p().domain([a]).range(["#DC143C","#00BFFF"]);var i=d.m().value((function(t){t.value;return t.value}))(d.d(a));l.selectAll("whatever").data(i).enter().append("path").attr("d",d.a().innerRadius(0).outerRadius(s)).attr("fill",(function(t){return o(t.data.key)})).attr("stroke","black").style("stroke-width","2px").style("opacity",.7);d.a().innerRadius(0).outerRadius(s);var c=d.a().innerRadius(0).outerRadius(s+75);if(l.selectAll("mySlices").data(i).enter().append("text").text((function(t){return Number(t.value/r*100).toFixed(2)+" %"})).attr("transform",(function(t){return"translate("+c.centroid(t)+")"})).style("text-anchor","middle").style("font-size",25),!1===e)var u=d.s(".legend");else u=d.s(".legendGender");u.selectAll("mydots").data(n).enter().append("rect").attr("x",100).attr("y",(function(t,e){return 100+25*e})).attr("width",20).attr("height",20).attr("class","rec").style("fill",(function(t){return o(t)})),u.selectAll("mylabels").data(n).enter().append("text").attr("x",124).attr("y",(function(t,e){return 100+25*e+10})).style("fill",(function(t){return o(t)})).text((function(t){return t})).attr("class","tex").attr("text-anchor","left").style("alignment-baseline","middle")},j=a(5),x=function(t){Object(c.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={lastData:null,dataByState:[],covidStatus:[],lineGraphData:[],covidDataByPerson:[],selectedOption:null,covidStatistic:{},infectedByGender:[],gender:!1,update:!1,barChartData:[],states:[],statesInfected:[],statesDeaths:[]},t.drawBarChart=function(){var e=60,a=210,r=80,n=40,s=d.s("body").select(".barChart").attr("id","chart").attr("width",1100).attr("height",500).append("g").classed("display",!0).attr("transform","translate(".concat(r,",").concat(e,")")),l=1100-r-n,o=500-e-a;t.plot(s,l,o)},t.plot=function(e,a,r){var n=a,s=r,l=d.n().domain(t.state.barChartData.map((function(t){return t.state}))).range([0,n]),o=d.o().domain([0,d.l(t.state.barChartData,(function(t){return t.value}))]).range([s,0]),i=d.q().domain([1,24]).interpolator(d.i);e.selectAll(".bar").data(t.state.barChartData).enter().append("rect").classed("bar",!0).attr("x",(function(t){return l(t.state)})).attr("y",(function(t){return o(t.value)})).attr("height",(function(t){return s-o(t.value)})).attr("width",(function(t){return l.bandwidth()})).style("fill",(function(t,e){return i(e)})),e.selectAll(".barLabel").data(t.state.barChartData).enter().append("text").classed("barLabel",!0).style("fill","white").attr("x",(function(t){return l(t.state)+l.bandwidth()/2})).attr("dx",-10).attr("y",(function(t){return o(t.value)})).attr("dy",-6).text((function(t){return t.value}));var c=d.b().ticks(25).scale(l);e.append("g").attr("class","xAxis").attr("transform","translate(0,"+s+")").call(c).selectAll("text").style("text-anchor","end").style("font-size","14px").attr("dx","-.8em").attr("dy",".15em").attr("transform",(function(t){return"rotate(-65)"}));var u=d.c().ticks(5).scale(o);e.append("g").classed("yAxis",!0).attr("transform","translate(0,0)").call(u),e.select(".yAxis").append("text").attr("x",0).attr("y",0).attr("transform","translate(-50, ".concat(s/2,") rotate(-90)")).attr("fill","white").style("font-size","14px").style("text-anchor","middle").text("Broj zara\u017eenih");var h=d.c().scale(o).ticks(5).tickSize(-n,0,0).tickFormat("");e.append("g").call(h).classed("gridline",!0)},t.handleChange=function(e){t.setState({selectedOption:e}),w(e,t.state.lineGraphData)},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;fetch("https://cors-anywhere.herokuapp.com/https://www.koronavirus.hr/json/?action=podaci_zadnji").then((function(t){return t.json()})).then((function(e){t.setState({lastData:e})})),fetch("https://www.koronavirus.hr/json/?action=po_danima_zupanijama_zadnji").then((function(t){return t.json()})).then((function(e){for(var a=0;a<e[0].PodaciDetaljno.length;a++){t.state.dataByState.push(e[0].PodaciDetaljno[a]),t.state.states.push(e[0].PodaciDetaljno[a].Zupanija),t.state.statesInfected.push(e[0].PodaciDetaljno[a].broj_zarazenih),t.state.statesDeaths.push(e[0].PodaciDetaljno[a].broj_umrlih);var r=new m(e[0].PodaciDetaljno[a].broj_zarazenih,e[0].PodaciDetaljno[a].Zupanija);t.state.barChartData.push(r)}console.log("this.",t.state.dataByState),function(t){var e=d.o().domain([0,700]).range([.4,1]),a=d.g().center([0,10]).scale(6e3).translate([17600,4500]).rotate([-180,0]),r=d.h().projection(a),n=d.s("body").select(".map").attr("width",960).attr("height",700).style("background","#3b3434");d.j("cro.json").then((function(a){console.log("Podaci",a);var l=h.a(a,a.objects.layer1);n.selectAll("path.county").data(l.features).enter().append("path").attr("class","county").attr("id",(function(t){return t.id})).attr("d",r).style("fill-opacity",(function(a){for(var r=0;r<t.length;r++)if(t[r].Zupanija.substring(0,2)===a.properties.name.substring(0,2))return e(t[r].broj_zarazenih)})).style("fill","red").style("stroke","gray").style("stroke-width",1).style("stroke-opacity",1).on("mouseover",(function(e){for(var a,r=0;r<t.length;r++)t[r].Zupanija.substring(0,2)===e.properties.name.substring(0,2)&&(a=t[r]);var n="<h3>"+e.properties.name+"</h3><br>Broj zara\u017eenih: "+a.broj_zarazenih+"<br>Broj umrlih: "+a.broj_umrlih;s.html(n).style("left",d.e.pageX+"px").style("top",d.e.pageY+"px"),s.transition().duration(500).style("opacity",.7)})).on("mouseout",(function(t){s.transition().duration(500).style("opacity",0)}))}));var s=d.s("body").append("div").attr("class","tooltipMap").style("opacity",0).style("width",600)}(t.state.dataByState),t.drawBarChart()})),fetch("https://cors-anywhere.herokuapp.com/https://www.koronavirus.hr/json/?action=podaci").then((function(t){return t.json()})).then((function(e){t.setState({covidStatus:e});for(var a=0;a<t.state.covidStatus.length;a++){var r=new p;r.croCases=t.state.covidStatus[a].SlucajeviHrvatska,r.date=t.state.covidStatus[a].Datum,r.croCured=t.state.covidStatus[a].IzlijeceniHrvatska,r.croDeaths=t.state.covidStatus[a].UmrliHrvatska,r.worldCases=t.state.covidStatus[a].SlucajeviSvijet,r.worldCured=t.state.covidStatus[a].IzlijeceniSvijet,r.worldDeaths=t.state.covidStatus[a].UmrliSvijet,t.state.lineGraphData.push(r)}t.setState({selectedOption:C[0]}),function(t,e){"croCases"===t.value||("croDeaths"===t.value||("croCured"===t.value||("worldCases"===t.value||("worldDeaths"===t.value||t.value))));var a=20,r=20,n=30,s=100,l=1100-s-r,o=500-a-n,i=d.r().range([0,l]),c=d.o().range([o,0]),u=d.k().x((function(t){return i(new Date(t.date))})).y((function(e){return"croCases"===t.value?c(e.croCases):"croDeaths"===t.value?c(e.croDeaths):"croCured"===t.value?c(e.croCured):"worldCases"===t.value?c(e.worldCases):"worldDeaths"===t.value?c(e.worldDeaths):"worldCured"===t.value?c(e.worldCured):void 0})),h=d.s("body").select(".lineChart").attr("width",l+s+r).attr("height",o+a+n).append("g").attr("transform","translate("+s+","+a+")");i.domain(d.f(e,(function(t){return new Date(t.date)}))),c.domain([0,d.l(e,(function(e){return"croCases"===t.value?e.croCases:"croDeaths"===t.value?e.croDeaths:"croCured"===t.value?e.croCured:"worldCases"===t.value?e.worldCases:"worldDeaths"===t.value?e.worldDeaths:"worldCured"===t.value?e.worldCured:void 0}))]),h.append("path").data([e]).attr("class","line").attr("d",u);var v=d.s("body").append("div").attr("class","tooltip").style("opacity",0);h.selectAll("dot").data(e).enter().append("circle").attr("r",4).attr("class","dots").attr("cx",(function(t){return i(new Date(t.date))})).attr("cy",(function(t){return c(t.croCases)})).on("mouseover",(function(t){v.transition().duration(200).style("opacity",.9),v.html("Datum: "+t.date+"<br>Cro cases: "+t.croCases).style("left",d.e.pageX-300+"px").style("top",d.e.pageY-75+"px")})).on("mouseout",(function(t){v.transition().duration(200).style("opacity",0)})),h.append("g").attr("class","xaxis").attr("transform","translate(0,"+o+")").call(d.b(i)),h.append("g").attr("class","yaxis").call(d.c(c))}(t.state.selectedOption,t.state.lineGraphData)})),fetch("https://cors-anywhere.herokuapp.com/https://www.koronavirus.hr/json/?action=po_osobama").then((function(t){return t.json()})).then((function(e){t.setState({covidDataByPerson:e});for(var a,r=(new Date).getFullYear(),n=new y,s=new f,l=0,o=0,i=0,c=0,u=0,d=0,h=0;h<t.state.covidDataByPerson.length;h++)(a=r-t.state.covidDataByPerson[h].dob)>=0&&a<=18?i++:a>18&&a<=35?u++:a>35&&a<=65?c++:d++,"M"===t.state.covidDataByPerson[h].spol?l++:o++;s.male=l,s.female=o,t.setState({infectedByGender:s}),n.young=i,n.youngMedium=u,n.oldMedium=c,n.old=d,t.setState({covidStatistic:n}),b(!1,!1,t.state.covidStatistic),b(!1,!0,t.state.infectedByGender)}))}},{key:"render",value:function(){var t=this.state.selectedOption;return n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{className:"logo",src:D.a,alt:"Logo"}),n.a.createElement("h1",null,"Covid-19"),null!==this.state.lastData?this.state.lastData.map((function(t){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",{key:t.Datum},"A\u017eurirano: ",t.Datum),n.a.createElement("h4",null,"Trenutno zara\u017eenih:"," ",t.SlucajeviHrvatska-t.IzlijeceniHrvatska),n.a.createElement("table",null,n.a.createElement("tbody",{className:"tableBody"},n.a.createElement("tr",null,n.a.createElement("td",null,"Zara\u017eeni u Hrvatskoj:"," ",n.a.createElement(j.a,{value:t.SlucajeviHrvatska,displayType:"text",thousandSeparator:!0})),n.a.createElement("td",null,"Umrli u Hrvatskoj:"," ",n.a.createElement(j.a,{value:t.UmrliHrvatska,displayType:"text",thousandSeparator:!0})),n.a.createElement("td",null,"Izlije\u010deni u Hrvatskoj:"," ",n.a.createElement(j.a,{value:t.IzlijeceniHrvatska,displayType:"text",thousandSeparator:!0}))),n.a.createElement("tr",null,n.a.createElement("td",null,"Zara\u017eeni u svijetu:"," ",n.a.createElement(j.a,{value:t.SlucajeviSvijet,displayType:"text",thousandSeparator:!0})),n.a.createElement("td",null,"Umrli u svijetu:"," ",n.a.createElement(j.a,{value:t.UmrliSvijet,displayType:"text",thousandSeparator:!0})),n.a.createElement("td",null,"Izlije\u010deni u svijetu:"," ",n.a.createElement(j.a,{value:t.IzlijeceniSvijet,displayType:"text",thousandSeparator:!0})," ")))))})):"No data",n.a.createElement("svg",{className:"map"}),n.a.createElement("br",null),n.a.createElement("svg",{className:"barChart"}),n.a.createElement("br",null),n.a.createElement("div",{className:"chartDiv"},n.a.createElement("div",{className:"select"},n.a.createElement(v.a,{value:t,onChange:this.handleChange,options:C})),n.a.createElement("svg",{className:"lineChart"})),n.a.createElement("br",null),n.a.createElement("div",{className:"chartDiv"},n.a.createElement("h2",null,"Zara\u017eeni-statistika:"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"column",id:"pie"},n.a.createElement("svg",{className:"pieChart"}),n.a.createElement("svg",{className:"legend",height:200,width:200})),n.a.createElement("div",{className:"column",id:"pieGender"},n.a.createElement("svg",{className:"pieChartGender"}),n.a.createElement("svg",{className:"legendGender",height:200,width:200})),n.a.createElement("div",{className:"column",id:"legend"}))),n.a.createElement("br",null))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},68:function(t,e,a){t.exports=a.p+"static/media/covid.354d7b40.png"}},[[138,1,2]]]);
//# sourceMappingURL=main.e5bfe568.chunk.js.map